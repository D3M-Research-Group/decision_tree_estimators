<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="odtlearn.flow_oct" href="../flow_oct/index.html" /><link rel="prev" title="odtlearn.datasets" href="../datasets/index.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2023.09.10 -->
        <title>odtlearn.fair_oct - odtlearn 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">odtlearn 1.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/img/ODTlearn-color.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/img/ODTlearn-color.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">odtlearn 1.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../user_guide/index.html">User Guide</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of User Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/optimal_classification_trees.html">Optimal Classification Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/fair_optimal_classification_trees.html">Fair Optimal Classification Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/optimal_robust_classification_trees.html">Robust Optimal Classification Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/optimal_prescriptive_trees.html">Optimal Prescriptive Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/adding_constraints.html">Adding side constraints to optimal classification trees</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../../api.html">ODTlearn API</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of ODTlearn API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn</span></code></a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of odtlearn</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 has-children"><a class="reference internal" href="../utils/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.utils</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of odtlearn.utils</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../utils/Tree/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.utils.Tree</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/TreePlotter/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.utils.TreePlotter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/binarize/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.utils.binarize</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/callback_helpers/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.utils.callback_helpers</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/callbacks/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.utils.callbacks</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/solver/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.utils.solver</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/validation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.utils.validation</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../constrained_oct/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.constrained_oct</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../datasets/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.datasets</span></code></a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.fair_oct</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow_oct/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.flow_oct</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow_oct_ms/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.flow_oct_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow_oct_ss/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.flow_oct_ss</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow_opt/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.flow_opt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow_opt_ms/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.flow_opt_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../flow_opt_ss/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.flow_opt_ss</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../opt_ct/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.opt_ct</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../opt_dt/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.opt_dt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../opt_pt/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.opt_pt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../robust_oct/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.robust_oct</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Example Notebooks</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../notebooks/index.html">Example Notebooks</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Example Notebooks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../notebooks/FlowOCT.html"><code class="docutils literal notranslate"><span class="pre">FlowOCT</span></code> Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../notebooks/FairOCT.html">Fair Optimal Classification Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../notebooks/RobustOCT.html"><code class="docutils literal notranslate"><span class="pre">RobustOCT</span></code> Examples</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">How to contribute to ODTlearn</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="module-odtlearn.fair_oct">
<span id="odtlearn-fair-oct"></span><h1><a class="reference internal" href="#module-odtlearn.fair_oct" title="odtlearn.fair_oct"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.fair_oct</span></code></a><a class="headerlink" href="#module-odtlearn.fair_oct" title="Permalink to this heading">#</a></h1>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this heading">#</a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this heading">#</a></h3>
<div class="table-wrapper autosummary longtable docutils container">
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT" title="odtlearn.fair_oct.FairConstrainedOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairConstrainedOCT</span></code></a></p></td>
<td><p>Base class for fair constrained optimal classification trees.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#odtlearn.fair_oct.FairSPOCT" title="odtlearn.fair_oct.FairSPOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairSPOCT</span></code></a></p></td>
<td><p>An optimal classification tree fit on a given binary-valued data set</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#odtlearn.fair_oct.FairCSPOCT" title="odtlearn.fair_oct.FairCSPOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairCSPOCT</span></code></a></p></td>
<td><p>An optimal classification tree fit on a given binary-valued data set</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#odtlearn.fair_oct.FairPEOCT" title="odtlearn.fair_oct.FairPEOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairPEOCT</span></code></a></p></td>
<td><p>An optimal classification tree fit on a given binary-valued data set</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#odtlearn.fair_oct.FairEOppOCT" title="odtlearn.fair_oct.FairEOppOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairEOppOCT</span></code></a></p></td>
<td><p>An optimal classification tree fit on a given binary-valued data set</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#odtlearn.fair_oct.FairEOddsOCT" title="odtlearn.fair_oct.FairEOddsOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairEOddsOCT</span></code></a></p></td>
<td><p>An optimal classification tree fit on a given binary-valued data set</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#odtlearn.fair_oct.FairOCT" title="odtlearn.fair_oct.FairOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairOCT</span></code></a></p></td>
<td><p>An optimal and fair classification tree fitted on a given binary-valued</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairConstrainedOCT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odtlearn.fair_oct.</span></span><span class="sig-name descname"><span class="pre">FairConstrainedOCT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">_lambda</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">fairness_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairConstrainedOCT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairConstrainedOCT" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../constrained_oct/index.html#odtlearn.constrained_oct.ConstrainedOCT" title="odtlearn.constrained_oct.ConstrainedOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">odtlearn.constrained_oct.ConstrainedOCT</span></code></a></p>
<p>Base class for fair constrained optimal classification trees.</p>
<p>This class extends the <a class="reference internal" href="../constrained_oct/index.html#odtlearn.constrained_oct.ConstrainedOCT" title="odtlearn.constrained_oct.ConstrainedOCT"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ConstrainedOCT</span></code></a> class
and provides a framework for implementing
fair constrained optimal classification trees. It includes methods for adding fairness
constraints, extracting metadata from the input data, and defining the objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solver</strong><span class="classifier">str</span></dt><dd><p>The name of the solver to use for solving the MIP problem.</p>
</dd>
<dt><strong>positive_class</strong><span class="classifier">int</span></dt><dd><p>The value of the class label which is corresponding to the desired outcome</p>
</dd>
<dt><strong>_lambda</strong><span class="classifier">float</span></dt><dd><p>The regularization parameter in the objective. Must be in the interval [0, 1).</p>
</dd>
<dt><strong>obj_mode</strong><span class="classifier">{‘acc’, ‘balance’, ‘weighted’}, optional (default=’acc’)</span></dt><dd><p>The objective mode to use.
‘acc’ for accuracy, ‘balance’ for balanced accuracy, ‘weighted’ for user-defined weights.</p>
</dd>
<dt><strong>fairness_bound: float (0,1], default=1</strong></dt><dd><p>The bound of the fairness constraint. The smaller the value the stricter
the fairness constraint and 1 corresponds to no fairness constraint enforced</p>
</dd>
<dt><strong>depth</strong><span class="classifier">int</span></dt><dd><p>The maximum depth of the tree.</p>
</dd>
<dt><strong>time_limit</strong><span class="classifier">int</span></dt><dd><p>The time limit (in seconds) for solving the MIP problem.</p>
</dd>
<dt><strong>num_threads</strong><span class="classifier">int, optional</span></dt><dd><p>The number of threads to use for solving the MIP problem. If None, all available threads are used.</p>
</dd>
<dt><strong>verbose</strong><span class="classifier">bool, optional</span></dt><dd><p>Whether to display verbose output during the solving process.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is a base class and should not be instantiated directly. Instead, use one of the
derived classes that implement a specific fairness constraint, such as
<a class="reference internal" href="#odtlearn.fair_oct.FairSPOCT" title="odtlearn.fair_oct.FairSPOCT"><code class="xref py py-mod docutils literal notranslate"><span class="pre">FairSPOCT</span></code></a>,
<a class="reference internal" href="#odtlearn.fair_oct.FairCSPOCT" title="odtlearn.fair_oct.FairCSPOCT"><code class="xref py py-mod docutils literal notranslate"><span class="pre">FairCSPOCT</span></code></a>,
<a class="reference internal" href="#odtlearn.fair_oct.FairPEOCT" title="odtlearn.fair_oct.FairPEOCT"><code class="xref py py-mod docutils literal notranslate"><span class="pre">FairPEOCT</span></code></a>,
<a class="reference internal" href="#odtlearn.fair_oct.FairEOppOCT" title="odtlearn.fair_oct.FairEOppOCT"><code class="xref py py-mod docutils literal notranslate"><span class="pre">FairEOppOCT</span></code></a>,
or <a class="reference internal" href="#odtlearn.fair_oct.FairEOddsOCT" title="odtlearn.fair_oct.FairEOddsOCT"><code class="xref py py-mod docutils literal notranslate"><span class="pre">FairEOddsOCT</span></code></a>.</p>
<p>The <a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT.fit" title="odtlearn.fair_oct.FairConstrainedOCT.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fit</span></code></a> method expects the input data <cite>X</cite>,
target labels <cite>y</cite>, protected features
<cite>protect_feat</cite>, and legitimate factors <cite>legit_factor</cite> (if applicable) to be provided.
The protected features should be binary-valued, and the legitimate factors should be
numeric.</p>
<p>The <a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT.predict" title="odtlearn.fair_oct.FairConstrainedOCT.predict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">predict</span></code></a> method expects the input data
<cite>X</cite> to have the same columns as the data
used for fitting the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>_obj_mode</strong><span class="classifier">str</span></dt><dd><p>The objective mode used for learning the optimal tree. Must be either ‘acc’ or ‘balance’.</p>
</dd>
<dt><strong>_positive_class</strong><span class="classifier">int</span></dt><dd><p>The value of the positive class label.</p>
</dd>
<dt><strong>_fairness_bound</strong><span class="classifier">float</span></dt><dd><p>The bound of the fairness constraint. Must be in the interval (0, 1].</p>
</dd>
<dt><strong>_protect_feat_col_labels</strong><span class="classifier">list of str</span></dt><dd><p>The column labels of the protected features.</p>
</dd>
<dt><strong>_protect_feat_col_dtypes</strong><span class="classifier">list of dtype</span></dt><dd><p>The data types of the protected feature columns.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><strong>_add_fairness_constraint(p_df, p_prime_df)</strong></p></td>
<td><p>Add the fairness constraint to the MIP problem for the given protected groups.</p></td>
</tr>
<tr class="row-even"><td><p><strong>_extract_metadata(X, y, protect_feat)</strong></p></td>
<td><p>Extract metadata from the input data.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>_define_objective()</strong></p></td>
<td><p>Define the objective function for the MIP problem.</p></td>
</tr>
<tr class="row-even"><td><p><strong>fit(X, y, protect_feat, legit_factor)</strong></p></td>
<td><p>Fit the fair constrained optimal classification tree on the given data.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>predict(X)</strong></p></td>
<td><p>Predict the class labels for the given input data using the fitted model.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairConstrainedOCT.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">protect_feat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">legit_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#odtlearn.fair_oct.FairCSPOCT" title="odtlearn.fair_oct.FairCSPOCT"><span class="pre">FairCSPOCT</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odtlearn.fair_oct.FairSPOCT" title="odtlearn.fair_oct.FairSPOCT"><span class="pre">FairSPOCT</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odtlearn.fair_oct.FairEOddsOCT" title="odtlearn.fair_oct.FairEOddsOCT"><span class="pre">FairEOddsOCT</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odtlearn.fair_oct.FairEOppOCT" title="odtlearn.fair_oct.FairEOppOCT"><span class="pre">FairEOppOCT</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odtlearn.fair_oct.FairPEOCT" title="odtlearn.fair_oct.FairPEOCT"><span class="pre">FairPEOCT</span></a></span></span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairConstrainedOCT.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairConstrainedOCT.fit" title="Permalink to this definition">#</a></dt>
<dd><p>Fit the Fair Constrained Optimal Classification Tree (FairConstrainedOCT) model to the given training data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>X</strong><span class="classifier">array-like of shape (n_samples, n_features)</span></dt><dd><p>The training input samples. Each feature should be binary (0 or 1).</p>
</dd>
<dt><strong>y</strong><span class="classifier">array-like of shape (n_samples,)</span></dt><dd><p>The target values (class labels) for the training samples.</p>
</dd>
<dt><strong>protect_feat</strong><span class="classifier">array-like of shape (n_samples, n_protected_features)</span></dt><dd><p>The protected feature columns (e.g., race, gender). Can have one or more columns.
Each protected feature should be binary (0 or 1).</p>
</dd>
<dt><strong>legit_factor</strong><span class="classifier">array-like of shape (n_samples,)</span></dt><dd><p>The legitimate factor column (e.g., prior number of criminal acts).
This should be a numeric column.</p>
</dd>
<dt><strong>weights</strong><span class="classifier">array-like of shape (n_samples,), optional (default=None)</span></dt><dd><p>Sample weights. If None, then samples are equally weighted when obj_mode is ‘acc’,
or weights are automatically calculated when obj_mode is ‘balance’.
Must be provided when obj_mode is ‘weighted’.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>self</strong><span class="classifier">object</span></dt><dd><p>Returns self.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If X or protect_feat contains non-binary values, or if inputs have inconsistent numbers of samples.
Also raised if weights are not provided when obj_mode is ‘weighted’, or if the number
of weights doesn’t match the number of samples.</p>
</dd>
<dt>AssertionError</dt><dd><p>If the fairness bound is not in the range (0, 1].</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method fits the FairConstrainedOCT model using mixed-integer optimization while
considering fairness constraints. It sets up the optimization problem, solves it, and stores the results.</p>
<p>The fairness constraints are applied based on the specific fairness metric defined in the subclass
(e.g., Statistical Parity, Conditional Statistical Parity, Predictive Equality, or Equal Opportunity).</p>
<p>The optimization problem aims to maximize accuracy (or balanced accuracy, depending on the obj_mode)
while satisfying the fairness constraints within the specified fairness_bound.</p>
<p>The resulting tree structure is stored in the model and can be used for prediction or visualization.</p>
<p>The behavior of this method depends on the <cite>obj_mode</cite> specified during initialization:
- If obj_mode is ‘acc’, equal weights are used (weights parameter is ignored).
- If obj_mode is ‘balance’, weights are automatically calculated to balance class importance.
- If obj_mode is ‘weighted’, the provided weights are used.</p>
<p>When obj_mode is not ‘weighted’ and weights are provided, a warning is issued and the weights are ignored.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">odtlearn.fair_oct</span> <span class="kn">import</span> <span class="n">FairConstrainedOCT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">protect_feat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">legit_factor</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">FairConstrainedOCT</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s2">&quot;cbc&quot;</span><span class="p">,</span> <span class="n">positive_class</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fairness_bound</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">protect_feat</span><span class="p">,</span> <span class="n">legit_factor</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairConstrainedOCT.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.frame.DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairConstrainedOCT.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairConstrainedOCT.predict" title="Permalink to this definition">#</a></dt>
<dd><p>Predict class labels for samples in X using the fitted Fair Constrained Optimal Classification Tree model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>X</strong><span class="classifier">array-like of shape (n_samples, n_features)</span></dt><dd><p>The input samples for which to make predictions. Each feature should be binary (0 or 1).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>y_pred</strong><span class="classifier">ndarray of shape (n_samples,)</span></dt><dd><p>The predicted class labels for each sample in X.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>NotFittedError</dt><dd><p>If the model has not been fitted yet.</p>
</dd>
<dt>ValueError</dt><dd><p>If X contains non-binary values or has a different number of features than the training data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method uses the fair decision tree learned during the fit process to classify new samples.
It traverses the tree for each sample in X, following the branching decisions until
reaching a leaf node, and returns the corresponding class prediction.</p>
<p>The predictions made by this method satisfy the fairness constraints that were imposed
during the training process. However, note that the fairness guarantees only hold for the
distribution of the training data. When applying the model to new data with a different
distribution, the fairness properties may not be preserved.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">odtlearn.fair_oct</span> <span class="kn">import</span> <span class="n">FairSPOCT</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">protect_feat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">legit_factor</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clf</span> <span class="o">=</span> <span class="n">FairSPOCT</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s2">&quot;cbc&quot;</span><span class="p">,</span> <span class="n">positive_class</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fairness_bound</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">protect_feat</span><span class="p">,</span> <span class="n">legit_factor</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_test</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>
<span class="go">[1 0]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairSPOCT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odtlearn.fair_oct.</span></span><span class="sig-name descname"><span class="pre">FairSPOCT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_lambda</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'acc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fairness_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairSPOCT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairSPOCT" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT" title="odtlearn.fair_oct.FairConstrainedOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairConstrainedOCT</span></code></a></p>
<p>An optimal classification tree fit on a given binary-valued data set
with a fairness side-constraint requiring statistical parity (SP) between protected groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solver: str</strong></dt><dd><p>A string specifying the name of the solver to use
to solve the MIP. Options are “Gurobi” and “CBC”.
If the CBC binaries are not found, Gurobi will be used by default.</p>
</dd>
<dt><strong>positive_class</strong><span class="classifier">int</span></dt><dd><p>The value of the class label which is corresponding to the desired outcome</p>
</dd>
<dt><strong>depth</strong><span class="classifier">int, default = 1</span></dt><dd><p>A parameter specifying the depth of the tree</p>
</dd>
<dt><strong>time_limit</strong><span class="classifier">int, default= 60</span></dt><dd><p>The given time limit (in seconds) for solving the MIO problem</p>
</dd>
<dt><strong>_lambda</strong><span class="classifier">float, default = 0</span></dt><dd><p>The regularization parameter in the objective. _lambda is in the interval [0,1)</p>
</dd>
<dt><strong>obj_mode</strong><span class="classifier">{‘acc’, ‘balance’, ‘weighted’}, optional (default=’acc’)</span></dt><dd><p>The objective mode to use.
‘acc’ for accuracy, ‘balance’ for balanced accuracy, ‘weighted’ for user-defined weights.</p>
</dd>
<dt><strong>fairness_bound: float (0,1], default=1</strong></dt><dd><p>The bound of the fairness constraint. The smaller the value the stricter
the fairness constraint and 1 corresponds to no fairness constraint enforced</p>
</dd>
<dt><strong>num_threads: int, default=None</strong></dt><dd><p>The number of threads the solver should use. If None, it will use all avaiable threads</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairSPOCT.calc_metric">
<span class="sig-name descname"><span class="pre">calc_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protect_feat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.frame.DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.series.Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairSPOCT.calc_metric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairSPOCT.calc_metric" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the statistical parity metric for the given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>protect_feat</strong><span class="classifier">array-like of shape (n_samples, n_protected_features)</span></dt><dd><p>The protected feature columns (e.g., race, gender). Can have one or more columns.</p>
</dd>
<dt><strong>y</strong><span class="classifier">array-like of shape (n_samples,)</span></dt><dd><p>The target values or predicted values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>sp_dict</strong><span class="classifier">dict</span></dt><dd><p>A dictionary with key (p,t) and value P(Y=t|P=p), where p is a protected level and t is an outcome value.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method calculates the statistical parity metric, which measures the difference in prediction rates
across different protected groups.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairCSPOCT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odtlearn.fair_oct.</span></span><span class="sig-name descname"><span class="pre">FairCSPOCT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_lambda</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'acc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fairness_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairCSPOCT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairCSPOCT" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT" title="odtlearn.fair_oct.FairConstrainedOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairConstrainedOCT</span></code></a></p>
<p>An optimal classification tree fit on a given binary-valued data set
with a fairness side-constraint requiring conditional statistical parity (CSP) between protected groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solver: str</strong></dt><dd><p>A string specifying the name of the solver to use
to solve the MIP. Options are “Gurobi” and “CBC”.
If the CBC binaries are not found, Gurobi will be used by default.</p>
</dd>
<dt><strong>positive_class</strong><span class="classifier">int</span></dt><dd><p>The value of the class label which is corresponding to the desired outcome</p>
</dd>
<dt><strong>depth</strong><span class="classifier">int, default = 1</span></dt><dd><p>A parameter specifying the depth of the tree</p>
</dd>
<dt><strong>time_limit</strong><span class="classifier">int, default= 60</span></dt><dd><p>The given time limit (in seconds) for solving the MIO problem</p>
</dd>
<dt><strong>_lambda</strong><span class="classifier">float, default = 0</span></dt><dd><p>The regularization parameter in the objective. _lambda is in the interval [0,1)</p>
</dd>
<dt><strong>obj_mode</strong><span class="classifier">{‘acc’, ‘balance’, ‘weighted’}, optional (default=’acc’)</span></dt><dd><p>The objective mode to use.
‘acc’ for accuracy, ‘balance’ for balanced accuracy, ‘weighted’ for user-defined weights.</p>
</dd>
<dt><strong>fairness_bound: float (0,1], default=1</strong></dt><dd><p>The bound of the fairness constraint. The smaller the value the stricter
the fairness constraint and 1 corresponds to no fairness constraint enforced</p>
</dd>
<dt><strong>num_threads: int, default=None</strong></dt><dd><p>The number of threads the solver should use. If None, it will use all avaiable threads</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairCSPOCT.calc_metric">
<span class="sig-name descname"><span class="pre">calc_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protect_feat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.frame.DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">legit_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.frame.DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.series.Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairCSPOCT.calc_metric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairCSPOCT.calc_metric" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the conditional statistical parity metric for the given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>protect_feat</strong><span class="classifier">array-like of shape (n_samples, n_protected_features)</span></dt><dd><p>The protected feature columns (e.g., race, gender). Can have one or more columns.</p>
</dd>
<dt><strong>legit_factor</strong><span class="classifier">array-like of shape (n_samples,)</span></dt><dd><p>The legitimate factor column (e.g., prior number of criminal acts).</p>
</dd>
<dt><strong>y</strong><span class="classifier">array-like of shape (n_samples,)</span></dt><dd><p>The target values or predicted values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>csp_dict</strong><span class="classifier">dict</span></dt><dd><p>A dictionary with key (p, f, t) and value P(Y=t|P=p, L=f), where p is a protected level,
t is an outcome value, and f is the value of the legitimate feature.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method calculates the conditional statistical parity metric, which measures the difference in
prediction rates across different protected groups, conditioned on the legitimate factor.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairPEOCT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odtlearn.fair_oct.</span></span><span class="sig-name descname"><span class="pre">FairPEOCT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_lambda</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'acc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fairness_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairPEOCT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairPEOCT" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT" title="odtlearn.fair_oct.FairConstrainedOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairConstrainedOCT</span></code></a></p>
<p>An optimal classification tree fit on a given binary-valued data set
with a fairness side-constraint requiring predictive equity (PE) between protected groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solver: str</strong></dt><dd><p>A string specifying the name of the solver to use
to solve the MIP. Options are “Gurobi” and “CBC”.
If the CBC binaries are not found, Gurobi will be used by default.</p>
</dd>
<dt><strong>positive_class</strong><span class="classifier">int</span></dt><dd><p>The value of the class label which is corresponding to the desired outcome</p>
</dd>
<dt><strong>depth</strong><span class="classifier">int, default = 1</span></dt><dd><p>A parameter specifying the depth of the tree</p>
</dd>
<dt><strong>time_limit</strong><span class="classifier">int, default= 60</span></dt><dd><p>The given time limit (in seconds) for solving the MIO problem</p>
</dd>
<dt><strong>_lambda</strong><span class="classifier">float, default = 0</span></dt><dd><p>The regularization parameter in the objective. _lambda is in the interval [0,1)</p>
</dd>
<dt><strong>obj_mode: str, default=”acc”</strong></dt><dd><p>The objective should be used to learn an optimal decision tree.
The two options are “acc” and “balance”.
The accuracy objective attempts to maximize prediction accuracy while the
balance objective aims to learn a balanced optimal decision
tree to better generalize to our of sample data.</p>
</dd>
<dt><strong>fairness_bound: float (0,1], default=1</strong></dt><dd><p>The bound of the fairness constraint. The smaller the value the stricter
the fairness constraint and 1 corresponds to no fairness constraint enforced</p>
</dd>
<dt><strong>num_threads: int, default=None</strong></dt><dd><p>The number of threads the solver should use. If None, it will use all avaiable threads</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairPEOCT.calc_metric">
<span class="sig-name descname"><span class="pre">calc_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protect_feat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.frame.DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.series.Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.series.Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0)"><span class="pre">numpy.ndarray</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairPEOCT.calc_metric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairPEOCT.calc_metric" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the predictive equality metric for the given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>protect_feat</strong><span class="classifier">array-like of shape (n_samples, n_protected_features)</span></dt><dd><p>The protected feature columns (e.g., race, gender). Can have one or more columns.</p>
</dd>
<dt><strong>y</strong><span class="classifier">array-like of shape (n_samples,)</span></dt><dd><p>The true target values.</p>
</dd>
<dt><strong>y_pred</strong><span class="classifier">array-like of shape (n_samples,)</span></dt><dd><p>The predicted values.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>eq_dict</strong><span class="classifier">dict</span></dt><dd><p>A dictionary with key (p, t, t_pred) and value P(Y_pred=t_pred|P=p, Y=t), where p is a protected level,
t is a true outcome value, and t_pred is a predicted outcome value.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method calculates the predictive equality metric, which measures the difference in
false positive rates across different protected groups.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairEOppOCT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odtlearn.fair_oct.</span></span><span class="sig-name descname"><span class="pre">FairEOppOCT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_lambda</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'acc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fairness_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairEOppOCT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairEOppOCT" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT" title="odtlearn.fair_oct.FairConstrainedOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairConstrainedOCT</span></code></a></p>
<p>An optimal classification tree fit on a given binary-valued data set
with a fairness side-constraint requiring equality of opportunity (EOpp) between protected groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solver: str</strong></dt><dd><p>A string specifying the name of the solver to use
to solve the MIP. Options are “Gurobi” and “CBC”.
If the CBC binaries are not found, Gurobi will be used by default.</p>
</dd>
<dt><strong>positive_class</strong><span class="classifier">int</span></dt><dd><p>The value of the class label which is corresponding to the desired outcome</p>
</dd>
<dt><strong>depth</strong><span class="classifier">int, default = 1</span></dt><dd><p>A parameter specifying the depth of the tree</p>
</dd>
<dt><strong>time_limit</strong><span class="classifier">int, default= 60</span></dt><dd><p>The given time limit (in seconds) for solving the MIO problem</p>
</dd>
<dt><strong>_lambda</strong><span class="classifier">float, default = 0</span></dt><dd><p>The regularization parameter in the objective. _lambda is in the interval [0,1)</p>
</dd>
<dt><strong>obj_mode: str, default=”acc”</strong></dt><dd><p>The objective should be used to learn an optimal decision tree.
The two options are “acc” and “balance”.
The accuracy objective attempts to maximize prediction accuracy while the
balance objective aims to learn a balanced optimal decision
tree to better generalize to our of sample data.</p>
</dd>
<dt><strong>fairness_bound: float (0,1], default=1</strong></dt><dd><p>The bound of the fairness constraint. The smaller the value the stricter
the fairness constraint and 1 corresponds to no fairness constraint enforced</p>
</dd>
<dt><strong>num_threads: int, default=None</strong></dt><dd><p>The number of threads the solver should use. If None, it will use all avaiable threads</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairEOppOCT.calc_metric">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_metric</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairEOppOCT.calc_metric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairEOppOCT.calc_metric" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairEOddsOCT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odtlearn.fair_oct.</span></span><span class="sig-name descname"><span class="pre">FairEOddsOCT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_lambda</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'acc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fairness_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairEOddsOCT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairEOddsOCT" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT" title="odtlearn.fair_oct.FairConstrainedOCT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FairConstrainedOCT</span></code></a></p>
<p>An optimal classification tree fit on a given binary-valued data set
with a fairness side-constraint requiring equal oddts (EOdds) between protected groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solver: str</strong></dt><dd><p>A string specifying the name of the solver to use
to solve the MIP. Options are “Gurobi” and “CBC”.
If the CBC binaries are not found, Gurobi will be used by default.</p>
</dd>
<dt><strong>positive_class</strong><span class="classifier">int</span></dt><dd><p>The value of the class label which is corresponding to the desired outcome</p>
</dd>
<dt><strong>depth</strong><span class="classifier">int, default = 1</span></dt><dd><p>A parameter specifying the depth of the tree</p>
</dd>
<dt><strong>time_limit</strong><span class="classifier">int, default= 60</span></dt><dd><p>The given time limit (in seconds) for solving the MIO problem</p>
</dd>
<dt><strong>_lambda</strong><span class="classifier">float, default = 0</span></dt><dd><p>The regularization parameter in the objective. _lambda is in the interval [0,1)</p>
</dd>
<dt><strong>obj_mode: str, default=”acc”</strong></dt><dd><p>The objective should be used to learn an optimal decision tree.
The two options are “acc” and “balance”.
The accuracy objective attempts to maximize prediction accuracy while the
balance objective aims to learn a balanced optimal decision
tree to better generalize to our of sample data.</p>
</dd>
<dt><strong>fairness_bound: float (0,1], default=1</strong></dt><dd><p>The bound of the fairness constraint. The smaller the value the stricter
the fairness constraint and 1 corresponds to no fairness constraint enforced</p>
</dd>
<dt><strong>num_threads: int, default=None</strong></dt><dd><p>The number of threads the solver should use. If None, it will use all avaiable threads</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairOCT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odtlearn.fair_oct.</span></span><span class="sig-name descname"><span class="pre">FairOCT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solver</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_lambda</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'acc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fairness_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fairness_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairOCT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairOCT" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../flow_oct_ms/index.html#odtlearn.flow_oct_ms.FlowOCTMultipleSink" title="odtlearn.flow_oct_ms.FlowOCTMultipleSink"><code class="xref py py-obj docutils literal notranslate"><span class="pre">odtlearn.flow_oct_ms.FlowOCTMultipleSink</span></code></a></p>
<p>An optimal and fair classification tree fitted on a given binary-valued
data set. The fairness criteria enforced in the training step is one of statistical parity (SP),
conditional statistical parity (CSP), predictive equality (PE),
equal opportunity (EOpp) or equalized odds (EOdds).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solver: str</strong></dt><dd><p>A string specifying the name of the solver to use
to solve the MIP. Options are “Gurobi” and “CBC”.
If the CBC binaries are not found, Gurobi will be used by default.</p>
</dd>
<dt><strong>positive_class</strong><span class="classifier">int</span></dt><dd><p>The value of the class label which is corresponding to the desired outcome</p>
</dd>
<dt><strong>depth</strong><span class="classifier">int, default= 1</span></dt><dd><p>A parameter specifying the depth of the tree</p>
</dd>
<dt><strong>time_limit</strong><span class="classifier">int, default= 60</span></dt><dd><p>The given time limit (in seconds) for solving the MIO problem</p>
</dd>
<dt><strong>_lambda</strong><span class="classifier">float, default= 0</span></dt><dd><p>The regularization parameter in the objective. _lambda is in the interval [0,1)</p>
</dd>
<dt><strong>num_threads: int, default=None</strong></dt><dd><p>The number of threads the solver should use. If None, it will use all avaiable threads</p>
</dd>
<dt><strong>fairness_type: [None, ‘SP’, ‘CSP’, ‘PE’, ‘EOpp’, ‘EOdds’], default=None</strong></dt><dd><p>The type of fairness criteria that we want to enforce</p>
</dd>
<dt><strong>fairness_bound: float (0,1], default=1</strong></dt><dd><p>The bound of the fairness constraint. The smaller the value the stricter
the fairness constraint and 1 corresponds to no fairness constraint enforced</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairOCT.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protect_feat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legit_factor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairOCT.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairOCT.fit" title="Permalink to this definition">#</a></dt>
<dd><p>Fit the FairOCT model to the given training data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>X</strong><span class="classifier">array-like of shape (n_samples, n_features)</span></dt><dd><p>The training input samples. Each feature should be binary (0 or 1).</p>
</dd>
<dt><strong>y</strong><span class="classifier">array-like of shape (n_samples,)</span></dt><dd><p>The target values (class labels) for the training samples.</p>
</dd>
<dt><strong>protect_feat</strong><span class="classifier">array-like of shape (n_samples, n_protected_features)</span></dt><dd><p>The protected feature columns (e.g., race, gender). Can have one or more columns.</p>
</dd>
<dt><strong>legit_factor</strong><span class="classifier">array-like of shape (n_samples,)</span></dt><dd><p>The legitimate factor column (e.g., prior number of criminal acts).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>self</strong><span class="classifier">object</span></dt><dd><p>Returns self.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If X contains non-binary values or if inputs have inconsistent numbers of samples.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method fits the FairOCT model using mixed-integer optimization while
considering fairness constraints. It sets up the optimization problem,
solves it, and stores the results.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairOCT.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairOCT.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairOCT.predict" title="Permalink to this definition">#</a></dt>
<dd><p>Predict class labels for samples in X using the fitted FairOCT model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>X</strong><span class="classifier">array-like of shape (n_samples, n_features)</span></dt><dd><p>The input samples for which to make predictions. Each feature should be binary (0 or 1).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>y_pred</strong><span class="classifier">ndarray of shape (n_samples,)</span></dt><dd><p>The predicted class labels for each sample in X.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>NotFittedError</dt><dd><p>If the model has not been fitted yet.</p>
</dd>
<dt>ValueError</dt><dd><p>If X contains non-binary values or has a different number of features than the training data.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method uses the fair decision tree learned during the fit process to classify new samples.
It traverses the tree for each sample in X, following the branching decisions until
reaching a leaf node, and returns the corresponding class prediction.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairOCT.get_SP">
<span class="sig-name descname"><span class="pre">get_SP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protect_feat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairOCT.get_SP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairOCT.get_SP" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the statistical parity value for any given protected level and outcome value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protect_feat</strong> – array-like, shape (n_samples,1) or (n_samples, n_p)
The protected feature columns (Race, gender, etc); We could have one or more columns</p></li>
<li><p><strong>y</strong> – array-like, shape (n_samples,)
The target values (class labels in classification).</p></li>
</ul>
</dd>
<dt class="field-even">Return sp_dict<span class="colon">:</span></dt>
<dd class="field-even"><p>a dictionary with key =(p,t) and value = P(Y=t|P=p)</p>
</dd>
</dl>
<p>where p is a protected level and t is an outcome value</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairOCT.get_CSP">
<span class="sig-name descname"><span class="pre">get_CSP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protect_feat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legit_factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairOCT.get_CSP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairOCT.get_CSP" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the conditional statistical parity value for any given
protected level, legitimate feature value and outcome value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protect_feat</strong> – array-like, shape (n_samples,1) or (n_samples, n_p)
The protected feature columns (Race, gender, etc); We could have one or more columns</p></li>
<li><p><strong>legit_fact</strong> – array-like, shape (n_samples,)
The legitimate factor column(e.g., prior number of criminal acts)</p></li>
<li><p><strong>y</strong> – array-like, shape (n_samples,)
The target values (class labels in classification).</p></li>
</ul>
</dd>
<dt class="field-even">Return csp_dict<span class="colon">:</span></dt>
<dd class="field-even"><p>a dictionary with key =(p, f, t) and value = P(Y=t|P=p, L=f) where p is a protected level
and t is an outcome value and l is the value of the legitimate feature</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairOCT.get_EqOdds">
<span class="sig-name descname"><span class="pre">get_EqOdds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protect_feat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairOCT.get_EqOdds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairOCT.get_EqOdds" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the false positive and true positive rate value
for any given protected level, outcome value and prediction value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protect_feat</strong> – array-like, shape (n_samples,1) or (n_samples, n_p)
The protected feature columns (Race, gender, etc); We could have one or more columns</p></li>
<li><p><strong>y</strong> – array-like, shape (n_samples,)
The true target values (class labels in classification).</p></li>
<li><p><strong>y_pred</strong> – array-like, shape (n_samples,)
The predicted values (class labels in classification).</p></li>
</ul>
</dd>
<dt class="field-even">Return eq_dict<span class="colon">:</span></dt>
<dd class="field-even"><p>a dictionary with key =(p, t, t_pred) and value = P(Y_pred=t_pred|P=p, Y=t)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairOCT.get_CondEqOdds">
<span class="sig-name descname"><span class="pre">get_CondEqOdds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protect_feat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legit_factor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairOCT.get_CondEqOdds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairOCT.get_CondEqOdds" title="Permalink to this definition">#</a></dt>
<dd><p>This function returns the conditional false negative and true positive rate value
for any given protected level, outcome value, prediction value and legitimate feature value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protect_feat</strong> – array-like, shape (n_samples,1) or (n_samples, n_p)
The protected feature columns (Race, gender, etc); We could have one or more columns</p></li>
<li><p><strong>legit_factor</strong> – array-like, shape (n_samples,)
The legitimate factor column(e.g., prior number of criminal acts)</p></li>
<li><p><strong>y</strong> – array-like, shape (n_samples,)
The true target values (class labels in classification).</p></li>
<li><p><strong>y_pred</strong> – array-like, shape (n_samples,)
The predicted values (class labels in classification).</p></li>
</ul>
</dd>
<dt class="field-even">Return ceq_dict<span class="colon">:</span></dt>
<dd class="field-even"><p>a dictionary with key =(p, f, t, t_pred) and value = P(Y_pred=t_pred|P=p, Y=t, L=f)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odtlearn.fair_oct.FairOCT.fairness_metric_summary">
<span class="sig-name descname"><span class="pre">fairness_metric_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/odtlearn/fair_oct.html#FairOCT.fairness_metric_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odtlearn.fair_oct.FairOCT.fairness_metric_summary" title="Permalink to this definition">#</a></dt>
<dd><p>Summarize the specified fairness metric for the fitted model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>metric</strong><span class="classifier">str</span></dt><dd><p>The name of the fairness metric to summarize. Must be one of ‘SP’, ‘CSP’, ‘PE’, or ‘CPE’.</p>
</dd>
<dt><strong>new_data</strong><span class="classifier">array-like of shape (n_samples,), optional</span></dt><dd><p>The new predicted data to use for calculating the fairness metric. If None, the predict method
is called on the training data to obtain the predicted values. Default is None.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd><p>The method prints the fairness metric summary as a pandas DataFrame.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If the specified metric is not one of the supported options.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method summarizes the specified fairness metric for the fitted model. The supported fairness metrics are:
- ‘SP’: Statistical Parity
- ‘CSP’: Conditional Statistical Parity
- ‘PE’: Predictive Equality
- ‘CPE’: Conditional Predictive Equality</p>
<p>The method checks if the model has been fitted and raises an error if not. If <cite>new_data</cite> is not provided,
the predict method is called on the training data to obtain the predicted values.</p>
<p>The fairness metric summary is printed as a pandas DataFrame, showing the metric values for each
combination of protected attribute, legitimate factor (if applicable), true label, and predicted label
(if applicable), depending on the selected metric.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">protect_feat_train</span><span class="p">,</span> <span class="n">legit_factor_train</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">fairness_metric_summary</span><span class="p">(</span><span class="s1">&#39;SP&#39;</span><span class="p">)</span>
<span class="go">            (p,y)  P(Y=y|P=p)</span>
<span class="go">0     (Male, False)    0.752475</span>
<span class="go">1      (Male, True)    0.247525</span>
<span class="go">2   (Female, False)    0.742574</span>
<span class="go">3    (Female, True)    0.257426</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../flow_oct/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.flow_oct</span></code></div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../datasets/index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.datasets</span></code></div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/D3M-Research-Group/odtlearn" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">odtlearn.fair_oct</span></code></a><ul>
<li><a class="reference internal" href="#module-contents">Module Contents</a><ul>
<li><a class="reference internal" href="#classes">Classes</a><ul>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT"><code class="docutils literal notranslate"><span class="pre">FairConstrainedOCT</span></code></a><ul>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT.fit"><code class="docutils literal notranslate"><span class="pre">FairConstrainedOCT.fit()</span></code></a></li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairConstrainedOCT.predict"><code class="docutils literal notranslate"><span class="pre">FairConstrainedOCT.predict()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairSPOCT"><code class="docutils literal notranslate"><span class="pre">FairSPOCT</span></code></a><ul>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairSPOCT.calc_metric"><code class="docutils literal notranslate"><span class="pre">FairSPOCT.calc_metric()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairCSPOCT"><code class="docutils literal notranslate"><span class="pre">FairCSPOCT</span></code></a><ul>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairCSPOCT.calc_metric"><code class="docutils literal notranslate"><span class="pre">FairCSPOCT.calc_metric()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairPEOCT"><code class="docutils literal notranslate"><span class="pre">FairPEOCT</span></code></a><ul>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairPEOCT.calc_metric"><code class="docutils literal notranslate"><span class="pre">FairPEOCT.calc_metric()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairEOppOCT"><code class="docutils literal notranslate"><span class="pre">FairEOppOCT</span></code></a><ul>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairEOppOCT.calc_metric"><code class="docutils literal notranslate"><span class="pre">FairEOppOCT.calc_metric()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairEOddsOCT"><code class="docutils literal notranslate"><span class="pre">FairEOddsOCT</span></code></a></li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairOCT"><code class="docutils literal notranslate"><span class="pre">FairOCT</span></code></a><ul>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairOCT.fit"><code class="docutils literal notranslate"><span class="pre">FairOCT.fit()</span></code></a></li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairOCT.predict"><code class="docutils literal notranslate"><span class="pre">FairOCT.predict()</span></code></a></li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairOCT.get_SP"><code class="docutils literal notranslate"><span class="pre">FairOCT.get_SP()</span></code></a></li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairOCT.get_CSP"><code class="docutils literal notranslate"><span class="pre">FairOCT.get_CSP()</span></code></a></li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairOCT.get_EqOdds"><code class="docutils literal notranslate"><span class="pre">FairOCT.get_EqOdds()</span></code></a></li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairOCT.get_CondEqOdds"><code class="docutils literal notranslate"><span class="pre">FairOCT.get_CondEqOdds()</span></code></a></li>
<li><a class="reference internal" href="#odtlearn.fair_oct.FairOCT.fairness_metric_summary"><code class="docutils literal notranslate"><span class="pre">FairOCT.fairness_metric_summary()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=af2ce170"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=4ea706d9"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>