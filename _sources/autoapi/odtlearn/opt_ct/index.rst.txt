:py:mod:`odtlearn.opt_ct`
=========================

.. py:module:: odtlearn.opt_ct


Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   odtlearn.opt_ct.OptimalClassificationTree




.. py:class:: OptimalClassificationTree(solver, depth, time_limit, num_threads, verbose)


   Bases: :py:obj:`odtlearn.opt_dt.OptimalDecisionTree`

   
   A class for learning optimal classification trees using mixed-integer programming.


   :Parameters:

       **solver** : str
           The solver to use for the MIP formulation. Currently, only "gurobi" and "CBC" are supported.

       **depth** : int
           The maximum depth of the tree to be learned.

       **time_limit** : int
           The time limit (in seconds) for solving the MIP formulation.

       **num_threads** : int, optional
           The number of threads the solver should use. If not specified,
           solver uses all available threads.

       **verbose** : bool, default=False
           Whether to print verbose output during the tree learning process.









   .. rubric:: Notes

   This class extends the :mod:`OptimalDecisionTree <odtlearn.opt_dt.OptimalDecisionTree>` base
   class to learn optimal classification trees. It formulates the problem as a mixed-integer
   program and solves it using either the Gurobi or CBC solver.



   :Attributes:

       **b_value** : numpy.ndarray
           The values of the branching decision variables in the learned tree.

       **w_value** : numpy.ndarray
           The values of the prediction decision variables in the learned tree.

       **p_value** : numpy.ndarray
           The values of the pruning decision variables in the learned tree.

   .. rubric:: Methods



   ======================  ==========
            **fit(X, y)**  Fit the optimal classification tree to the given training data.  
           **predict(X)**  Make predictions using the fitted optimal classification tree.  
         **print_tree()**  Print the structure of the fitted optimal classification tree.  
   **plot_tree(*kwargs)**  Plot the fitted optimal classification tree using matplotlib.  
   ======================  ==========

   ..
       !! processed by numpydoc !!
   .. py:method:: print_tree()

      
      Print a text representation of the fitted tree.

      This method prints the structure of the fitted tree, including the branching features,
      the threshold values for each branching node's test, and the predictions asserted for each leaf node.






      :Raises:

          NotFittedError
              If the model has not been fitted yet.




      .. rubric:: Notes

      The tree is printed in a depth-first manner, with each node represented by its index,
      branching feature and threshold (for internal nodes), or prediction (for leaf nodes).





      ..
          !! processed by numpydoc !!

   .. py:method:: plot_tree(label='all', filled=True, rounded=False, precision=3, ax=None, fontsize=None, color_dict={'node': None, 'leaves': []}, edge_annotation=True, arrow_annotation_font_scale=0.8, debug=False, distance=1.0, feature_names=None)

      
      Plot the fitted tree using matplotlib.


      :Parameters:

          **label** : {'all', 'root', 'none'}, default='all'
              Whether to show informative labels for impurity, etc.
              Options include 'all' to show at every node, 'root' to show only at
              the top root node, or 'none' to not show at any node.

          **filled** : bool, default=True
              When set to True, paint nodes to indicate majority treatment for
              prescriptive trees.

          **rounded** : bool, default=False
              When set to True, draw node boxes with rounded corners and use
              Helvetica fonts instead of Times-Roman.

          **precision** : int, default=3
              Number of digits of precision for floating point in the values of
              impurity, threshold and value attributes of each node.

          **ax** : matplotlib axis, default=None
              Axes to plot to. If None, use current axis. Any previous content is cleared.

          **fontsize** : int, default=None
              Size of text font. If None, determined automatically to fit figure.

          **color_dict** : dict, optional
              A dictionary specifying the colors for nodes and leaves.
              Default: {"node": None, "leaves": []}

          **edge_annotation** : bool, optional (default=True)
              Whether to display annotations on the edges.

          **arrow_annotation_font_scale** : float, optional (default=0.5)
              The font scale for the arrow annotations.

          **debug** : bool, optional (default=False)
              Whether to print debug information.

          **distance: float, default=1.0**
              Adjust distance between levels in the tree.

          **feature_names** : list of str, default=None
              A list of feature names to use for the plot. If None, the feature names from the
              fitted tree will be used. The feature names should be in the same order as the
              columns of the data used to fit the tree.

      :Returns:

          **ax** : matplotlib.axes.Axes
              The matplotlib Axes containing the plot.




      :Raises:

          NotFittedError
              If the model has not been fitted yet.




      .. rubric:: Notes

      This method visualizes the fitted tree structure using matplotlib.
      Each node in the tree is represented by a box, with arrows indicating the branching structure.





      ..
          !! processed by numpydoc !!


